{% extends 'base.html' %}
{% block title %}Detalle del Producto{% endblock %}
{% block content %}
<div class="product-detail-layout">
    <div class="product-gallery">
        <img src="{{ producto.imagen_url }}" alt="{{ producto.nombre }}" class="product-main-img">
    </div>
    <div class="product-main-info">
        <h1 class="product-title">{{ producto.nombre }}</h1>
        {% if producto.precio_unitario %}
        <div class="product-price-big">${{ producto.precio_unitario }}</div>
        {% endif %}
        {% if producto.cantidad_stock %}
        <div class="product-stock">Stock disponible: <b>{{ producto.cantidad_stock }}</b> {{ producto.unidad or '' }}</div>
        {% endif %}
        {% if producto.garantia_fecha %}
        <div class="product-guarantee">Garantía hasta: {{ producto.garantia_fecha }}</div>
        {% endif %}
        {% if producto.categoria and producto.categoria.nombre %}
        <div class="product-detail-category">Categoría: {{ producto.categoria.nombre }}</div>
        {% endif %}
        <a href="#" class="btn btn-buy">Comprar ahora</a>
        <form method="post" action="{{ url_for('agregar_al_carrito', producto_id=producto.id_producto) }}" style="display:inline;">
            <button type="submit" class="btn btn-cart">Agregar al carrito</button>
        </form>
    </div>
    <div class="product-details-extra">
        {% if producto.descripcion_detallada %}
        <h2>Descripción detallada</h2>
        <div class="product-desc-long">{{ producto.descripcion_detallada }}</div>
        {% elif producto.descripcion %}
        <h2>Descripción</h2>
        <div class="product-desc-long">{{ producto.descripcion }}</div>
        {% endif %}
        {# Si tienes más campos relevantes, agrégalos aquí #}
    </div>
</div>
{% endblock %}
